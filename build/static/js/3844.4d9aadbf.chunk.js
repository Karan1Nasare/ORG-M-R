"use strict";(self.webpackChunkmr_education_system=self.webpackChunkmr_education_system||[]).push([[3844],{29583:(e,t,s)=>{s.d(t,{A:()=>d});var n=s(65043),a=s(17392),l=s(74802),r=s(66423),o=s(72196),i=s(98861),c=s(70579);const d=e=>{let{isOpen:t,onClose:s}=e;if(!t)return null;const[d,u]=(0,n.useState)(o);return(0,c.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black bg-opacity-20 text-start",children:(0,c.jsxs)("div",{className:"flex flex-col px-8 py-7 rounded-3xl border border-gray-700 border-solid text-start bg-secondary__fill w-42.6 max-md:px-5",children:[(0,c.jsxs)("div",{className:"flex gap-5 text-xl text-white max-md:flex-wrap max-md:max-w-full",children:[(0,c.jsx)("div",{className:"flex-auto my-auto ",children:"Edit Announcement"}),(0,c.jsx)(a.A,{"aria-label":"close",onClick:s,sx:{color:"white"},children:(0,c.jsx)(l.A,{})})]}),(0,c.jsx)("div",{className:"shrink-0 items-center h-px border border-solid bg-slate-500 border-slate-500 max-md:max-w-full"}),(0,c.jsxs)("div",{className:"flex overflow-hidden relative rounded flex-col justify-center items-center px-20 pt-11 pb-20 mt-11 text-base text-center text-white whitespace-nowrap min-h-[158px] max-md:px-5 max-md:mt-10 max-md:max-w-full",children:[(0,c.jsx)("div",{className:"absolute inset-0 flex items-center justify-center",children:(0,c.jsx)("img",{loading:"lazy",src:d,className:"object-cover w-full h-full opacity-50"})}),(0,c.jsxs)("div",{className:"relative z-10 flex flex-col items-center justify-center",children:[(0,c.jsxs)("label",{htmlFor:"fileInput",className:"cursor-pointer",children:[(0,c.jsx)(r.In,{icon:"uil:image-upload",className:"text-white text-xl mb-1"}),(0,c.jsx)("input",{id:"fileInput",type:"file",hidden:!0,onChange:e=>{const t=e.target.files[0];if(t){const e=new FileReader;e.onloadend=()=>{u(e.result)},e.readAsDataURL(t)}}})]}),(0,c.jsx)("span",{className:"text-white text-lg cursor-pointer",onClick:()=>document.getElementById("fileInput").click(),children:"Change"})]})]}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-5 content-start mt-5 text-sm ",children:[(0,c.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,c.jsx)("div",{className:"text-white",children:"Feature Name"}),(0,c.jsx)("input",{type:"text",className:"w-full px-3 py-3 mt-2 rounded border border-gray-700 border-solid bg-none leading-[143%] text-ellipsis text-stone-300  focus:outline-none focus:ring-2 focus:ring-primary bg-transparent",placeholder:"Select Feature Name"})]}),(0,c.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,c.jsx)("div",{className:"text-white",children:"GST"}),(0,c.jsx)("input",{type:"text",placeholder:"Enter GST",className:"justify-center bg-transparent items-start px-3 py-3 mt-2 rounded border border-gray-700 border-solid leading-[143%] text-stone-300 max-md:pr-5"})]})]}),(0,c.jsx)("div",{className:"mt-5 text-sm text-white max-md:max-w-full",children:"Description"}),(0,c.jsx)("div",{className:"mt-2",children:(0,c.jsx)(i.A,{})}),(0,c.jsxs)("div",{className:"flex flex-wrap gap-5 content-start mt-5 text-sm",children:[(0,c.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,c.jsx)("div",{className:"text-white",children:"Rate (Amount)"}),(0,c.jsx)("input",{placeholder:"Enter Rate",className:"justify-center bg-transparent items-start px-3 py-3.5 mt-2 rounded border border-gray-700 border-solid text-stone-300 max-md:pr-5"})]}),(0,c.jsxs)("div",{className:"flex flex-col flex-1",children:[(0,c.jsx)("div",{className:"text-white",children:"Total Amount"}),(0,c.jsx)("input",{placeholder:"Enter Total Amount",className:"justify-center items-start bg-transparent px-3 py-3.5 mt-2 rounded border border-gray-700 border-solid text-stone-300 max-md:pr-5"})]})]}),(0,c.jsx)("button",{className:"justify-center self-center px-7 py-3 mt-8 text-base text-center whitespace-nowrap bg-white rounded-lg text-slate-900 max-md:px-5",children:"Update"})]})})}},3492:(e,t,s)=>{s.d(t,{A:()=>l});var n=s(85865),a=(s(65043),s(70579));const l=e=>{let{heading:t,title:s,subTitle:l,previewImage:r,successNumber:o,description:i,isOpen:c,onClose:d}=e;return c?(0,a.jsx)("div",{className:"fixed inset-0 z-50 flex items-center justify-center overflow-y-auto bg-black bg-opacity-20 text-start",children:(0,a.jsxs)("div",{className:"bg-secondary__fill w-42.6 rounded-xl border border-gray-700 border-solid p-6",children:[(0,a.jsxs)("div",{className:"flex justify-between items-center mb-4",children:[(0,a.jsx)("h2",{className:"text-white text-lg",children:t}),(0,a.jsx)("button",{className:"text-white text-xl",onClick:d,"aria-label":"Close",children:"\xd7"})]}),(0,a.jsx)("div",{className:"border-b border-gray-700 mb-4"}),(0,a.jsx)("img",{className:"w-full rounded-xl mb-4",src:r,alt:"Preview Image"}),(0,a.jsx)("div",{className:"mb-4",children:(0,a.jsx)("div",{className:"justify-center w-12 text-center px-2 py-1 mt-5 text-sm font-semibold text-success bg-success whitespace-nowrap bg-green-500 bg-opacity-20 rounded-full inline-block",children:o})}),(0,a.jsxs)("div",{className:"text-white mb-5",children:[(0,a.jsx)("div",{children:(0,a.jsx)(n.A,{variant:"h5",className:"text-lg",children:s})}),(0,a.jsx)("div",{className:"mt-2",children:(0,a.jsx)(n.A,{variant:"h6",className:"text-grey__primary__light ",children:l})})]}),(0,a.jsx)(n.A,{variant:"cardDescription",className:"text-white ",children:i})]})}):null}},60982:(e,t,s)=>{s.d(t,{A:()=>n});const n={HOST_URL:"https://superadmin.mandreducation.in",SUFFIX_URL:"/api/v1",LOGIN:"/login",LOG_OUT:"/logout",GET_PROFILE:"/profile",UPDATE_PROFILE:"/profile/update",CHANGE_PASSWORD:"/change-password",FORGOT_PASSWORD:"/password/email",RESET_PASSWORD:e=>"/password/reset?token=".concat(e),DASHBOARD:()=>"/dashboard",ADD_PLAN:()=>"/plans",GET_PLAN:()=>"/plans",EDIT_PLAN:e=>"/plans/".concat(e),UPDATE_PLAN:e=>"/plans/".concat(e),DELETE_PLAN:e=>"/plans/".concat(e),ADD_ADMIN:()=>"/admins",GET_ADMINS:()=>"/admins",EDIT_ADMIN:e=>"/admins/".concat(e),UPDATE_ADMIN:e=>"/admins/".concat(e),DELETE_ADMIN:e=>"/admins/".concat(e),ADD_FEATURE:()=>"/features",GET_FEATURES:()=>"/features",EDIT_FEATURE:e=>"/features/".concat(e),UPDATE_FEATURE:e=>"/features/".concat(e),DELETE_FEATURE:e=>"/features/".concat(e),ADD_QUESTION_BANK:()=>"/questionbanks",GET_QUESTION_BANK:()=>"/questionbanks",EDIT_QUESTION_BANK:e=>"/questionbanks/".concat(e),UPDATE_QUESTION_BANK:e=>"/questionbanks/".concat(e),DELETE_QUESTION_BANK:e=>"/questionbanks/".concat(e),ADD_COURSE:()=>"/courses",GET_COURSE:()=>"/courses",EDIT_COURSE:e=>"/courses/".concat(e),UPDATE_COURSE:e=>"/courses/".concat(e),DELETE_COURSE:e=>"/courses/".concat(e),ADD_SUBJECT:()=>"/subjects",GET_SUBJECT:()=>"/subjects",EDIT_SUBJECT:e=>"/subjects/".concat(e),UPDATE_SUBJECT:e=>"/subjects/".concat(e),DELETE_SUBJECT:e=>"/subjects/".concat(e),ADD_CHAPTER:()=>"/chapters",GET_CHAPTER:()=>"/chapters",EDIT_CHAPTER:e=>"/chapters/".concat(e),UPDATE_CHAPTER:e=>"/chapters/".concat(e),DELETE_CHAPTER:e=>"/chapters/".concat(e),ADD_LANGUAGES:()=>"/languages",GET_LANGUAGES:()=>"/languages",EDIT_LANGUAGES:e=>"/languages/".concat(e),UPDATE_LANGUAGES:e=>"/languages/".concat(e),DELETE_LANGUAGES:e=>"/languages/".concat(e),ADD_ACADEMIC_YEAR:()=>"/academic-years",GET_ACADEMIC_YEAR:()=>"/academic-years",EDIT_ACADEMIC_YEAR:e=>"/academic-years/".concat(e),UPDATE_ACADEMIC_YEAR:e=>"/academic-years/".concat(e),DELETE_ACADEMIC_YEAR:e=>"/academic-years/".concat(e),GET_NOTIFICATIION:e=>"/notifications?user_type=".concat(e),ADD_NOTIFICATION:()=>"/notifications",EDIT_NOTIFICATION:e=>"/notifications/".concat(e),DELETE_NOTIFICATION:e=>"/notifications/".concat(e)}},43844:(e,t,s)=>{s.r(t),s.d(t,{default:()=>C});var n=s(65043),a=s(41985),l=s(85865),r=s(67784),o=s(11906),i=s(67201),c=s(35475),d=s(97352),u=s(70579);const m=e=>{let{value:t,onChange:s}=e;return(0,u.jsxs)("div",{className:"flex items-center justify-between bg-secondary__fill p-5 rounded-md border border-grey__primary__light border-opacity-20",children:[(0,u.jsx)(r.A,{className:"w-4/12",variant:"outlined",placeholder:"Search Name, Inrollment, Standerd",value:t,onChange:s,InputProps:{sx:{height:"2.5rem !important",background:d.A.secondary__fill__dark,border:"none",borderRadius:"0.375rem"}}}),(0,u.jsx)(c.N_,{to:"/addAnnouncement",children:(0,u.jsx)(o.A,{variant:"outline-add-button",startIcon:(0,u.jsx)(i.A,{}),children:"Add Announcement"})})]})};var x=s(72196),p=s(23768),h=s(73216),g=s(13429);const E=()=>{const e=(0,h.Zp)(),[t,s]=(0,n.useState)({}),[a,l]=(0,g.Pj)();return{fetcher:async t=>{let{key:n,executer:a,onFailureRoute:r,onSuccessRoute:o,showSuccessToast:i=!0,showErrorToast:c=!0,navigationFailure:d=!1,ErrorIcon:u,SuccessIcon:m,onSuccess:x,onFailure:h,ToastMessage:g}=t;s((e=>({...e,[n]:{isLoading:!0,error:null}})));try{const t=await a();if(200!==t.status)throw new Error("Unexpected status code: ".concat(t.status));var E;null===x||void 0===x||x(t),i&&p.Ay.success(g||(null===(E=t.data)||void 0===E?void 0:E.message),{position:"top-right",icon:m}),o&&e(o,{replace:!0}),s((e=>({...e,[n]:{isLoading:!1,error:null}})))}catch(y){var A,v,f,N,D,j,_;if(401===(null===y||void 0===y||null===(A=y.response)||void 0===A?void 0:A.status))return void l({type:"RemoveState"});let t="Something went wrong";if(null===h||void 0===h||h(y),429===(null===y||void 0===y||null===(v=y.response)||void 0===v?void 0:v.status))return;null!==y&&void 0!==y&&null!==(f=y.response)&&void 0!==f&&null!==(N=f.data)&&void 0!==N&&null!==(D=N[0])&&void 0!==D&&D.message?t=y.response.data[0].message:null!==y&&void 0!==y&&null!==(j=y.response)&&void 0!==j&&null!==(_=j.data)&&void 0!==_&&_.message&&(t=y.response.data.message),c&&p.Ay.error(g||t,{position:"top-right",icon:u}),r&&d&&e(r,{replace:!0}),s((e=>({...e,[n]:{isLoading:!1,error:t}})))}finally{s((e=>{var t;return{...e,[n]:{isLoading:!1,error:(null===(t=e[n])||void 0===t?void 0:t.error)||null}}}))}},getExecutorState:(0,n.useCallback)((e=>t[e]||{isLoading:!1,error:null}),[t])}};var A=s(61543),v=s(60982);const f=()=>({getAnnouncement:async()=>A.Ay.get(v.A.GET_ANNOUNCEMENT()),deleteAnnouncementById:async e=>A.Ay.delete(v.A.DELETE_ANNOUNCEMENT(e)),editAnnouncementById:async(e,t)=>A.Ay.post(v.A.EDIT_ANNOUNCEMENT(e),t)}),N=()=>{const{getAnnouncement:e,deleteAnnouncementById:t,editAnnouncementById:s}=f(),{fetcher:a,getExecutorState:l}=E(),{axiosInstance:r}=(0,A.qp)(),[o,i]=(0,n.useState)([]),[c,d]=(0,n.useState)(!1),[u,m]=(0,n.useState)(!1),[x,p]=(0,n.useState)(!1),[h,g]=(0,n.useState)(!1),[v,N]=(0,n.useState)(null),[D,j]=(0,n.useState)(1);(0,n.useEffect)((()=>{(async()=>{try{d(!0),a({key:"announcements",executer:()=>e(),onSuccess:e=>{var t;console.log("feature rresponse feature: ",e),i(null===(t=e.data)||void 0===t?void 0:t.data)}}),d(!1)}catch(t){console.log("error while fetching questions",t)}})()}),[]);return{loading:c,announcementList:(0,n.useMemo)((()=>{const e=6*(D-1),t=e+6;return o.slice(e,t)}),[o,D]),isPreviewOpen:u,isEditOpen:x,openDelete:h,selectedData:v,openEditDialog:e=>{p(!0),N(e)},closeEditDialog:()=>{p(!1)},openPreviewDialog:e=>{m(!0),N(e)},closePreviewDialog:()=>{m(!1)},confirmDeleteHandler:()=>{v&&(s=>{try{a({key:"deleteAnnouncements",executer:()=>t(s),onSuccess:t=>{console.log("delete rresponse feature: ",t),e()}})}catch(n){console.log("error while fetching questions",n)}})(v.id),g(!1)},handleCloseDelete:()=>{g(!1)},openDeleteDialog:e=>{g(!0),N(e)},currentPage:D,handlePageChange:(e,t)=>{j(t)},totalPages:Math.ceil(o.length/6),confirmUpdateHandler:e=>{v&&((e,t)=>{try{a({key:"deleteAnnouncements",executer:()=>s(e,t),onSuccess:e=>{console.log("edit rresponse feature: ",e)}})}catch(n){console.log("error while fetching questions",n)}})(v.id,e),g(!1)}}};var D=s(66423),j=s(3492),_=s(29583),y=s(2706);const b=e=>{var t;let{data:s,isPreviewOpen:n,isEditOpen:a,openDelete:l,openEditDialog:r,closeEditDialog:o,openPreviewDialog:i,closePreviewDialog:c,confirmDeleteHandler:d,handleCloseDelete:m,openDeleteDialog:p,selectedData:h,confirmUpdateHandler:g}=e;return console.log("\ud83d\ude80 ~ AnnouncementCard ~ data:",s),(0,u.jsxs)("div",{className:"relative bg-secondary__fill h-68 w-34 mt-4 p-8 rounded-lg border border-grey__primary__light border-opacity-20",children:[(0,u.jsx)("img",{src:(null===s||void 0===s||null===(t=s.image[0])||void 0===t?void 0:t.url)||x,className:"w-full h-13",alt:"Announcement Image"}),(0,u.jsxs)("div",{className:"flex items-center justify-between mt-4",children:[(0,u.jsxs)("div",{className:"flex items-start flex-col w-full",children:[(0,u.jsx)("div",{className:"text-white font-normal text-md",children:(null===s||void 0===s?void 0:s.title)||"Diwali"}),(0,u.jsx)("div",{className:"flex justify-between w-full",children:(0,u.jsxs)("div",{className:"flex items-center w-full mt-2",children:[(0,u.jsx)("div",{className:"text-grey__primary__light text-sm",children:(null===s||void 0===s?void 0:s.type)||"Student"}),"Student"===(null===s||void 0===s?void 0:s.type)&&(0,u.jsx)("div",{className:"text-xs rounded-xl border w-16 truncate text-success border-none bg-success bg-opacity-50 px-1 py1 ml-3 font-semibold",children:(null===s||void 0===s?void 0:s.standard)||"100"})]})})]}),(0,u.jsxs)("div",{className:"text-white flex",children:[(0,u.jsx)(D.In,{icon:"mdi:eye",className:"text-white h-5 w-5 mr-4 cursor-pointer",width:25,onClick:()=>i(s)}),(0,u.jsx)(D.In,{icon:"lucide:edit",className:"text-white h-5 w-5 mr-4",onClick:()=>r(s)}),(0,u.jsx)(D.In,{icon:"material-symbols:delete",className:"text-danger h-5 w-5",onClick:()=>p(s)})]})]}),(0,u.jsx)(j.A,{isOpen:n,onClose:c,heading:"Announcement",data:h}),(0,u.jsx)(_.A,{isOpen:a,onClose:o,heading:"Edit Announcement",announcementData:h,onUpdate:g}),(0,u.jsx)(y.A,{fullMessage:"Are you sure want to Delete Announcement ?",title:"Delete Anoouncement",handleClose:m,deleteHandler:d,open:l})]})};var w=s(81637);const T=()=>(0,u.jsx)("div",{className:"flex justify-center items-center h-full",children:(0,u.jsx)(w.A,{})}),I=()=>{const{announcementList:e,isPreviewOpen:t,isEditOpen:s,openDelete:n,selectedData:r,openEditDialog:o,closeEditDialog:i,openPreviewDialog:c,closePreviewDialog:x,confirmDeleteHandler:p,handleCloseDelete:h,openDeleteDialog:g,currentPage:E,handlePageChange:A,confirmUpdateHandler:v,totalPages:f,loading:D}=N();let j;return j=D?(0,u.jsx)(T,{}):e.length>0?(0,u.jsxs)(u.Fragment,{children:[(0,u.jsx)("div",{className:"grid lg:grid-cols-3 gap-3 sm:grid-cols-1 md:grid-cols-2 xs:grid-cols-1",children:e.map(((e,a)=>(0,u.jsx)(b,{data:e,isPreviewOpen:t,isEditOpen:s,openDelete:n,selectedData:r,openEditDialog:o,closeEditDialog:i,openPreviewDialog:c,closePreviewDialog:x,confirmDeleteHandler:p,confirmUpdateHandler:v,handleCloseDelete:h,openDeleteDialog:g},a)))}),(0,u.jsx)("div",{className:"flex justify-center mt-3",children:(0,u.jsx)(a.A,{count:f,page:E,onChange:A,color:"primary",sx:{"& .MuiPaginationItem-root":{color:"rgba(125, 143, 179, 1)","&.Mui-selected":{color:"white",backgroundColor:d.A.secondary__fill__dark}},"& .MuiPaginationItem-previousNext":{backgroundColor:d.A.white,color:d.A.black}}})})]}):(0,u.jsx)("p",{className:"text-white",children:"No announcements found."}),(0,u.jsx)(u.Fragment,{children:(0,u.jsxs)("div",{className:"h-full flex flex-col",children:[(0,u.jsx)(l.A,{className:"flex align-items-start",variant:"mainLayoutTitle",children:"Announcement"}),(0,u.jsx)(m,{value:{},onChange:{}}),(0,u.jsx)("div",{className:"flex-1 mt-2",children:j})]})})},C=()=>(0,u.jsx)(I,{})},61543:(e,t,s)=>{s.d(t,{Ay:()=>c,Q9:()=>i,qp:()=>o});s(65043);var n=s(86213),a=s(60982),l=s(13429);const r=n.A.create({baseURL:a.A.HOST_URL+a.A.SUFFIX_URL}),o=()=>{const[e,t]=(0,l.Pj)();return r.interceptors.request.use((async e=>{var t,s;if(!navigator.onLine){const e=new Error("No internet connection");return e.name="NetworkError",Promise.reject(e)}const n=(null===(t=JSON.parse(window.localStorage.getItem("last_state")))||void 0===t||null===(s=t.user)||void 0===s?void 0:s.token)||"",a={...e};return n&&(a.headers={...a.headers,Authorization:"Bearer ".concat(n),Accept:"application/json","Content-Type":"multipart/form-data"}),a}),(e=>{var s;return 401===(null===e||void 0===e||null===(s=e.response)||void 0===s?void 0:s.status)&&t({type:"RemoveState"}),Promise.reject(e)})),r.interceptors.response.use((e=>e),(async e=>{e.config;return Promise.reject(e)})),{axiosInstance:r}},i=()=>{const[e,t]=(0,l.Pj)();return{API:async function(t,s){let n=arguments.length>2&&void 0!==arguments[2]?arguments[2]:null,a=arguments.length>4&&void 0!==arguments[4]?arguments[4]:{},l=arguments.length>6&&void 0!==arguments[6]?arguments[6]:()=>{},o={};var i;arguments.length>3&&void 0!==arguments[3]&&!arguments[3]||(o={headers:{Authorization:"Bearer ".concat((arguments.length>5&&void 0!==arguments[5]?arguments[5]:"")||(null===e||void 0===e||null===(i=e.user)||void 0===i?void 0:i.token))},...a});switch(t){case"GET":l(!0);return r.get(s,o).then((e=>(l(!1),e))).catch((e=>(l(!1),e)));case"POST":l(!0);return r.post(s,n,o).then((e=>(l(!1),e))).catch((e=>(l(!1),e)));case"PUT":return r.put(s,n,o).then((e=>(l(!1),e))).catch((e=>(l(!1),e)));case"PATCH":return r.patch(s,n,o).then((e=>(l(!1),e))).catch((e=>(l(!1),e)));case"DELETE":return r.delete(s,o).then((e=>(l(!1),e))).catch((e=>(l(!1),e)));default:return r.get(s,o).then((e=>(l(!1),e))).catch((e=>(l(!1),e)))}}}},c=r}}]);
//# sourceMappingURL=3844.4d9aadbf.chunk.js.map